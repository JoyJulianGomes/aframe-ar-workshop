<!doctype HTML>
<html>
  <head>
    <meta charset="UTF-8">
    <title>Web AR worshop | Le Wagon Tokyo</title>
    <script src="https://aframe.io/releases/1.0.3/aframe.min.js"></script>
    <script src="https://unpkg.com/aframe-physics-system@1.4.0/dist/aframe-physics-system.min.js"></script>
    <script src="https://raw.githack.com/jeromeetienne/AR.js/2.1.8/aframe/build/aframe-ar.js"></script> 

  </head>
  <body style='margin : 0px; overflow: hidden;'>
      <a-scene embedded arjs>
          <a-entity camera></a-entity>
          <a-assets>
            <a-asset-item id="bowling-ball" src="../assets/bowling_ball/scene.gltf"></a-asset-item>
            <a-asset-item id="bowling-pin" src="../assets/bowling_pin/scene.gltf"></a-asset-item>
          </a-assets>
          <a-marker preset="hiro">
            <a-scene physics>
              <a-box id="ball" position="0 1 0" rotation="0 0 0" width="0.2" height="0.2" depth="0.2" color="red" static-body></a-box>
            
              <a-box position="0 0 0" rotation="0 0 0" width="1" height="0.1" depth="1" material="color: white; shader: flat; src: ../assets/bowling-lane.png" static-body></a-box>
              <a-box position="0 0.5 0.5" rotation="0 0 0" width="1" height="1" depth="0.1" material="color: white; shader: flat; src: ../assets/bowling-lane.png" static-body></a-box>
              <a-box position="0 0.5 -0.5" rotation="0 0 0" width="1" height="1" depth="0.1" material="color: white; shader: flat; src: ../assets/bowling-lane.png" static-body></a-box>
              <a-box position="0.5 0.5 0" rotation="0 0 0" width="0.1" height="1" depth="1" material="color: white; shader: flat; src: ../assets/bowling-lane.png" static-body></a-box>
              <a-box position="-0.5 0.5 0" rotation="0 0 0" width="0.1" height="1" depth="1" material="color: white; shader: flat; src: ../assets/bowling-lane.png" static-body></a-box>
            </a-scene>
        </a-marker>
    </a-scene>
    <script>
      setTimeout(() => {
        scene = document.querySelector('a-scene');
        scene.systems.physics.world.gravity.z = -9;
        scene.systems.physics.world.gravity.y = 0;
        document.querySelector("#ball").removeAttribute("static-body");
        document.querySelector("#ball").setAttribute("dynamic-body", 'shape: sphere; mass: 300;');
      }, 5000);
    </script>
  </body>
</html>
